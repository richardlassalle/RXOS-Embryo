# Embryonic Story Structure
# Biological-inspired parametric cascade system with learning

embryo:
  id: "emb_001"
  generation: 1  # evolves with each learning cycle
  learning_data:
    successful_patterns:
      conflict_intensity_range: [0.7, 0.9]  # learned optimal range
      setup_duration_ratio: 0.33  # learned from feedback
      resolution_temperature: 0.4  # proven effective
    failed_patterns:
      excessive_temperature: [0.95, 1.0]  # avoid these ranges
      rapid_pacing_in_setup: [1.5, 2.0]  # creates confusion
    adaptation_rate: 0.1  # how fast to learn from new data
  
  dna:
    arc_structure: [setup, conflict, resolution]
    transformation_rules:
      setup:
        intensity: 0.3
        temperature: 0.7
      conflict:
        intensity: 0.8
        temperature: 0.5
      resolution:
        intensity: 0.6
        temperature: 0.4
    
  seed_parameters:
    duration: 30.0  # seconds - triggers division pattern
    temperature: 0.6
    intensity: 0.5
    character_count: 2
    location_count: 1
    object_count: 3

  asset_libraries:
    characters:
      - chr_detective_noir
      - chr_mysterious_woman
    locations:
      - loc_dark_alley
      - loc_neon_cafe
    objects:
      - obj_cigarette
      - obj_briefcase
      - obj_gun

# Cell Division Result (triggered by seed)
story_organism:
  total_duration: 30.0
  cell_count: 3
  cells:
    
    - cell:
        id: "cell_001"
        position: 0
        arc: setup
        type: narrative
        duration: 10.0
        parameters:
          intensity: 0.3  # inherited from embryo DNA
          temperature: 0.7
          character_count: 2
          location_count: 1
          object_count: 1
        assets:
          characters: [chr_detective_noir]
          locations: [loc_dark_alley]
          objects: [obj_cigarette]
        content:
          description: "Detective emerges from shadows"
          action: "establishing_shot"
    
    - cell:
        id: "cell_002" 
        position: 1
        arc: conflict
        type: visual
        duration: 10.0
        parameters:
          intensity: 0.8  # cascaded transformation
          temperature: 0.5
          character_count: 2
          location_count: 1
          object_count: 2
        assets:
          characters: [chr_detective_noir, chr_mysterious_woman]
          locations: [loc_neon_cafe]
          objects: [obj_briefcase, obj_gun]
        content:
          description: "Tense exchange of briefcase"
          action: "confrontation"
    
    - cell:
        id: "cell_003"
        position: 2
        arc: resolution
        type: narrative
        duration: 10.0
        parameters:
          intensity: 0.6  # resolution cascade
          temperature: 0.4
          character_count: 1
          location_count: 1
          object_count: 1
        assets:
          characters: [chr_detective_noir]
          locations: [loc_dark_alley]
          objects: [obj_cigarette]
        content:
          description: "Detective walks away transformed"
          action: "denouement"

# Learning Feedback Loop
generation_feedback:
  story_id: "story_001"
  performance_metrics:
    engagement_score: 0.85  # from user feedback
    narrative_coherence: 0.9  # automated analysis
    visual_quality: 0.8  # generation success rate
    timing_effectiveness: 0.75  # pacing analysis
  
  parameter_effectiveness:
    conflict_intensity_0.8: "highly_effective"  # learn this works
    setup_temperature_0.7: "moderately_effective"
    resolution_duration_10s: "too_short"  # learn to adjust
  
  recommended_adaptations:
    - increase_resolution_duration_by: 0.2
    - maintain_conflict_intensity_range: [0.7, 0.9]
    - reduce_setup_temperature_slightly: -0.05
  
  next_generation_modifications:
    embryo_id: "emb_002"  # evolved version
    dna_updates:
      transformation_rules:
        resolution:
          intensity: 0.65  # learned optimization
          temperature: 0.35  # learned optimization

# Alternative Division Pattern for Longer Content
# (Same embryo, different stimulation)
extended_organism:
  total_duration: 300.0  # 5 minute piece
  cell_count: 9
  pattern: "3x3_matrix"  # 3 cells per arc
  cascade_rules:
    setup_cells: [0, 1, 2]
    conflict_cells: [3, 4, 5]
    resolution_cells: [6, 7, 8]
  
  # Each cell inherits embryo DNA but differentiates
  # Duration: 33.3 seconds per cell
  # Parameters cascade with positional modifications
